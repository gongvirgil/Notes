# 正则表达式

## 简单字符

## 转义字符


## 常用转义字符列表

## 字符集

## 量词

## 字符边界

## 选择表达式

## 分组

分组在正则中用()表示

## 引用

## 断言

## 预搜索

## 修饰符

## 工具

* [https://regexper.com/](https://regexper.com/)
* [https://regexr.com/](https://regexr.com/)

## 常用正则

* 校验IP : 
* 校验域名 : 




##正则实例

    if(!preg_match("/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/", $ip)){
        return 'IP Address Error';
    }


###正则需要转义的特殊字符

特别字符 | 说明
---- | ----
$  | 匹配输入字符串的结尾位置。如果设置了 RegExp 对象的 Multiline 属性，则 $ 也匹配 ‘\n' 或 ‘\r'。要匹配 $ 字符本身，请使用 \$。
() | 标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用 \( 和 \)。
*  | 匹配前面的子表达式零次或多次。要匹配 * 字符，请使用 \*。
+  | 匹配前面的子表达式一次或多次。要匹配 + 字符，请使用 \+。
.  | 匹配除换行符 \n之外的任何单字符。要匹配 .，请使用 \.。
[] | 标记一个中括号表达式的开始。要匹配 [，请使用 \[。
?  | 匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配 ? 字符，请使用 \?。
\  | 将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， ‘n' 匹配字符 ‘n'。'\n' 匹配换行符。序列 ‘\\' 匹配 “\”，而 ‘\(' 则匹配 “(”。
^  | 匹配输入字符串的开始位置，除非在方括号表达式中使用，此时它表示不接受该字符集合。要匹配 ^ 字符本身，请使用 \^。
{} | 标记限定符表达式的开始。要匹配 {，请使用 \{。
竖线  | 指明两项之间的一个选择。要匹配 竖线，请使用 \竖线。

###验证域名

    $url = "http://komunitasweb.com/"; 
    if (preg_match('/^(http|https|ftp)://([A-Z0-9][A-Z0-9_-]*(?:.[A-Z0-9][A-Z0-9_-]*)+):?(d+)?/?/i', $url)) { 
      echo "Your url is ok."; 
    }else { 
      echo "Wrong url."; 
    }

###从一个字符串中突出某个单词

    $text = "Sample sentence from KomunitasWeb, regex has become popular in web programming. Now we learn regex. According to wikipedia, Regular expressions (abbreviated as regex or regexp, with plural forms regexes, regexps, or regexen) are written in a formal language that can be interpreted by a regular expression processor"; 
    $text = preg_replace("/b(regex)b/i", '<span style="background:#5fc9f6">1</span>', $text); 
    echo $text;

###从HTML文档中获得全部图片

    $images = array(); 
    preg_match_all('/(img|src)=("|')[^"'>]+/i', $data, $media); 
    unset($data); 
    $data=preg_replace('/(img|src)("|'|="|=')(.*)/i',"$3",$media[0]); 
    foreach($data as $url) 
    { 
      $info = pathinfo($url); 
      if (isset($info['extension'])) 
      { 
        if (($info['extension'] == 'jpg') || 
        ($info['extension'] == 'jpeg') || 
        ($info['extension'] == 'gif') || 
        ($info['extension'] == 'png')) 
        array_push($images, $url); 
      } 
    }

###删除重复字母

    $text = preg_replace("/s(w+s)1/i", "$1", $text);

###删除重复的标点

    $text = preg_replace("/.+/i", ".", $text);

###匹配一个XML或者HTML标签

    function get_tag( $tag, $xml ) { 
     $tag = preg_quote($tag); 
     preg_match_all('{<'.$tag.'[^>]*>(.*?)</'.$tag.'>.'}', 
              $xml, 
              $matches, 
              PREG_PATTERN_ORDER); 
     
     return $matches[1]; 
    }

###匹配具有属性值的XML或者HTML标签

    function get_tag( $attr, $value, $xml, $tag=null ) { 
     if( is_null($tag) ) 
      $tag = '\w+'; 
     else
      $tag = preg_quote($tag); 
     
     $attr = preg_quote($attr); 
     $value = preg_quote($value); 
     
     $tag_regex = "/<(".$tag.")[^>]*$attr\s*=\s*". 
            "(['\"])$value\\2[^>]*>(.*?)<\/\\1>/"
     
     preg_match_all($tag_regex, 
             $xml, 
             $matches, 
             PREG_PATTERN_ORDER); 
     
     return $matches[3]; 
    }

###匹配十六进制颜色值

    $string = "#555555"; 
    if (preg_match('/^#(?:(?:[a-fd]{3}){1,2})$/i', $string)) { 
    echo "example 6 successful."; 
    }

###查找页面 title

    $fp = fopen("http://www.catswhocode.com/blog","r"); 
    while (!feof($fp) ){ 
      $page .= fgets($fp, 4096); 
    } 
     
    $titre = eregi("<title>(.*)</title>",$page,$regs); 
    echo $regs[1]; 
    fclose($fp);

###解释 Apache 日志

    //Logs: Apache web server 
    //Successful hits to HTML files only. Useful for counting the number of page views. 
    '^((?#client IP or domain name)S+)s+((?#basic authentication)S+s+S+)s+[((?#date and time)[^]]+)]s+"(?:GET|POST|HEAD) ((?#file)/[^ ?"]+?.html?)??((?#parameters)[^ ?"]+)? HTTP/[0-9.]+"s+(?#status code)200s+((?#bytes transferred)[-0-9]+)s+"((?#referrer)[^"]*)"s+"((?#user agent)[^"]*)"$'
     
    //Logs: Apache web server 
    //404 errors only 
    '^((?#client IP or domain name)S+)s+((?#basic authentication)S+s+S+)s+[((?#date and time)[^]]+)]s+"(?:GET|POST|HEAD) ((?#file)[^ ?"]+)??((?#parameters)[^ ?"]+)? HTTP/[0-9.]+"s+(?#status code)404s+((?#bytes transferred)[-0-9]+)s+"((?#referrer)[^"]*)"s+"((?#user agent)[^"]*)"$'

###使用智能引号代替双引号
    
    preg_replace('B"b([^"x84x93x94rn]+)b"B', '?1?', $text);

###检验密码的复杂度

    'A(?=[-_a-zA-Z0-9]*?[A-Z])(?=[-_a-zA-Z0-9]*?[a-z])(?=[-_a-zA-Z0-9]*?[0-9])[-_a-zA-Z0-9]{6,}z'

###移除图片的链接

    <?php 
      $str = ' 
        <a href="http://www.jobbole.com/">jobbole</a>其他字符 
        <a href="http://www.sohu.com/">sohu</a> 
        <a href="http://www.sohu.com/"><img src="http://www.fashion-press.net/img/news/3176/mot_06.jpg" /></a> 
        '; 
     
      
    //echo preg_replace("/(<a.*?>)(<img.*?>)(<\/a>)/", '$2', $str);  
      echo preg_replace("/(<a.*?>)(<img.*?>)(<\/a>)/", '\2', $str);  
    ?>


一、校验数字的表达式

    数字：^[0-9]*$
    n位的数字：^\d{n}$
    至少n位的数字：^\d{n,}$
    m-n位的数字：^\d{m,n}$
    零和非零开头的数字：^(0|[1-9][0-9]*)$
    非零开头的最多带两位小数的数字：^([1-9][0-9]*)+(.[0-9]{1,2})?$
    带1-2位小数的正数或负数：^(\-)?\d+(\.\d{1,2})?$
    正数、负数、和小数：^(\-|\+)?\d+(\.\d+)?$
    有两位小数的正实数：^[0-9]+(.[0-9]{2})?$
    有1~3位小数的正实数：^[0-9]+(.[0-9]{1,3})?$
    非零的正整数：^[1-9]\d*$ 或 ^([1-9][0-9]*){1,3}$ 或 ^\+?[1-9][0-9]*$
    非零的负整数：^\-[1-9][]0-9″*$ 或 ^-[1-9]\d*$
    非负整数：^\d+$ 或 ^[1-9]\d*|0$
    非正整数：^-[1-9]\d*|0$ 或 ^((-\d+)|(0+))$
    非负浮点数：^\d+(\.\d+)?$ 或 ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$
    非正浮点数：^((-\d+(\.\d+)?)|(0+(\.0+)?))$ 或 ^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$
    正浮点数：^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$ 或 ^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$
    负浮点数：^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$ 或 ^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$
    浮点数：^(-?\d+)(\.\d+)?$ 或 ^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$

二、校验字符的表达式

    汉字：^[\u4e00-\u9fa5]{0,}$
    英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$
    长度为3-20的所有字符：^.{3,20}$
    由26个英文字母组成的字符串：^[A-Za-z]+$
    由26个大写英文字母组成的字符串：^[A-Z]+$
    由26个小写英文字母组成的字符串：^[a-z]+$
    由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$
    由数字、26个英文字母或者下划线组成的字符串：^\w+$ 或 ^\w{3,20}$
    中文、英文、数字包括下划线：^[\u4E00-\u9FA5A-Za-z0-9_]+$
    中文、英文、数字但不包括下划线等符号：^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$
    可以输入含有^%&’,;=?$\”等字符：[^%&',;=?$\x22]+
    禁止输入含有~的字符：[^~\x22]+

三、特殊需求表达式

    Email地址：^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
    域名：[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?
    InternetURL：[a-zA-z]+://[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&=]*)?$
    手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$
    电话号码(“XXX-XXXXXXX”、”XXXX-XXXXXXXX”、”XXX-XXXXXXX”、”XXX-XXXXXXXX”、”XXXXXXX”和”XXXXXXXX)：^($$\d{3,4}-)|\d{3.4}-)?\d{7,8}$
    国内电话号码(0511-4405222、021-87888822)：\d{3}-\d{8}|\d{4}-\d{7}
    身份证号(15位、18位数字)：^\d{15}|\d{18}$
    短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$
    帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$
    密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$
    强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$
    日期格式：^\d{4}-\d{1,2}-\d{1,2}
    一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$
    一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$
    钱的输入格式：
        有四种钱的表示形式我们可以接受:”10000.00″ 和 “10,000.00″, 和没有 “分” 的 “10000″ 和 “10,000″：^[1-9][0-9]*$
        这表示任意一个不以0开头的数字，但是，这也意味着一个字符”0″不通过，所以我们采用下面的形式：^(0|[1-9][0-9]*)$
        一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]*)$
        这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉，因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$
        必须说明的是，小数点后面至少应该有1位数，所以”10.”是不通过的，但是 “10″ 和 “10.2″ 是通过的：^[0-9]+(.[0-9]{2})?$
        这样我们规定小数点后面必须有两位，如果你认为太苛刻了，可以这样：^[0-9]+(.[0-9]{1,2})?$
        这样就允许用户只写一位小数。下面我们该考虑数字中的逗号了，我们可以这样：^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$
        1到3个数字，后面跟着任意个 逗号+3个数字，逗号成为可选，而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$
        备注：这就是最终结果了，别忘了”+”可以用”*”替代。如果你觉得空字符串也可以接受的话(奇怪，为什么?)最后，别忘了在用函数时去掉去掉那个反斜杠，一般的错误都在这里
    xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$
    中文字符的正则表达式：[\u4e00-\u9fa5]
    双字节字符：[^\x00-\xff] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))
    空白行的正则表达式：\n\s*\r (可以用来删除空白行)
    HTML标记的正则表达式：<(\S*?)[^>]*>.*?</\1>|<.*? /> (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)
    首尾空白字符的正则表达式：^\s*|\s*$或(^\s*)|(\s*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)
    腾讯QQ号：[1-9][0-9]{4,} (腾讯QQ号从10000开始)
    中国邮政编码：[1-9]\d{5}(?!\d) (中国邮政编码为6位数字)
    IP地址：\d+\.\d+\.\d+\.\d+ (提取IP地址时有用)
    IP地址：((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))



##正则表达式
2.    "^\d+$"　　//非负整数（正整数 + 0）
3.    "^[0-9]*[1-9][0-9]*$"　　//正整数
4.    "^((-\d+)|(0+))$"　　//非正整数（负整数 + 0）
5.    "^-[0-9]*[1-9][0-9]*$"　　//负整数
6.    "^-?\d+$"　　　　//整数
7.    "^\d+(\.\d+)?$"　　//非负浮点数（正浮点数 + 0）
8.    "^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$"　　//正浮点数
9.    "^((-\d+(\.\d+)?)|(0+(\.0+)?))$"　　//非正浮点数（负浮点数 + 0）
10.    "^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$"　　//负浮点数
11.    "^(-?\d+)(\.\d+)?$"　　//浮点数
12.    "^[A-Za-z]+$"　　//由26个英文字母组成的字符串
13.    "^[A-Z]+$"　　//由26个英文字母的大写组成的字符串
14.    "^[a-z]+$"　　//由26个英文字母的小写组成的字符串
15.    "^[A-Za-z0-9]+$"　　//由数字和26个英文字母组成的字符串
16.    "^\w+$"　　//由数字、26个英文字母或者下划线组成的字符串
17.    "^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$"　　　　//email地址
18.    "^[a-zA-z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\S*)?$"　　//url
19.    /^(d{2}|d{4})-((0([1-9]{1}))|(1[1|2]))-(([0-2]([1-9]{1}))|(3[0|1]))$/   //  年-月-日
20.    /^((0([1-9]{1}))|(1[1|2]))/(([0-2]([1-9]{1}))|(3[0|1]))/(d{2}|d{4})$/   // 月/日/年
21.    "^([w-.]+)@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.)|(([w-]+.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(]?)$"   //Emil
22.    /^((\+?[0-9]{2,4}\-[0-9]{3,4}\-)|([0-9]{3,4}\-))?([0-9]{7,8})(\-[0-9]+)?$/     //电话号码
23.    "^(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5])$"   //IP地址
24.    
25.    匹配中文字符的正则表达式： [\u4e00-\u9fa5]
26.    匹配双字节字符(包括汉字在内)：[^\x00-\xff]
27.    匹配空行的正则表达式：\n[\s| ]*\r
28.    匹配HTML标记的正则表达式：/<(.*)>.*<\/\1>|<(.*) \/>/
29.    匹配首尾空格的正则表达式：(^\s*)|(\s*$)
30.    匹配Email地址的正则表达式：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*
31.    匹配网址URL的正则表达式：^[a-zA-z]+://(\\w+(-\\w+)*)(\\.(\\w+(-\\w+)*))*(\\?\\S*)?$
32.    匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$
33.    匹配国内电话号码：(\d{3}-|\d{4}-)?(\d{8}|\d{7})?
34.    匹配腾讯QQ号：^[1-9]*[1-9][0-9]*$
35.    
36.    
37.    元字符及其在正则表达式上下文中的行为：
38.    
39.    \ 将下一个字符标记为一个特殊字符、或一个原义字符、或一个后向引用、或一个八进制转义符。
40.    
41.    ^ 匹配输入字符串的开始位置。如果设置了 RegExp 对象的Multiline 属性，^ 也匹配 ’\n’ 或 ’\r’ 之后的位置。
42.    
43.    $ 匹配输入字符串的结束位置。如果设置了 RegExp 对象的Multiline 属性，$ 也匹配 ’\n’ 或 ’\r’ 之前的位置。
44.    
45.    * 匹配前面的子表达式零次或多次。
46.    
47.    + 匹配前面的子表达式一次或多次。+ 等价于 {1,}。
48.    
49.    ? 匹配前面的子表达式零次或一次。? 等价于 {0,1}。
50.    
51.    {n} n 是一个非负整数，匹配确定的n 次。
52.    
53.    {n,} n 是一个非负整数，至少匹配n 次。
54.    
55.    {n,m} m 和 n 均为非负整数，其中n <= m。最少匹配 n 次且最多匹配 m 次。在逗号和两个数之间不能有空格。
56.    
57.    ? 当该字符紧跟在任何一个其他限制符 (*, +, ?, {n}, {n,}, {n,m}) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。
58.    
59.    . 匹配除 "\n" 之外的任何单个字符。要匹配包括 ’\n’ 在内的任何字符，请使用象 ’[.\n]’ 的模式。
60.    (pattern) 匹配pattern 并获取这一匹配。
61.    
62.    (?:pattern) 匹配pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。
63.    
64.    (?=pattern) 正向预查，在任何匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。
65.    
66.    (?!pattern) 负向预查，与(?=pattern)作用相反
67.    
68.    x|y 匹配 x 或 y。
69.    
70.    [xyz] 字符集合。
71.    
72.    [^xyz] 负值字符集合。
73.    
74.    [a-z] 字符范围，匹配指定范围内的任意字符。
75.    
76.    [^a-z] 负值字符范围，匹配任何不在指定范围内的任意字符。
77.    
78.    \b 匹配一个单词边界，也就是指单词和空格间的位置。
79.    
80.    \B 匹配非单词边界。
81.    
82.    \cx 匹配由x指明的控制字符。
83.    
84.    \d 匹配一个数字字符。等价于 [0-9]。
85.    
86.    \D 匹配一个非数字字符。等价于 [^0-9]。
87.    
88.    \f 匹配一个换页符。等价于 \x0c 和 \cL。
89.    
90.    \n 匹配一个换行符。等价于 \x0a 和 \cJ。
91.    
92.    \r 匹配一个回车符。等价于 \x0d 和 \cM。
93.    
94.    \s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。
95.    
96.    \S 匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。
97.    
98.    \t 匹配一个制表符。等价于 \x09 和 \cI。
99.    
100.    \v 匹配一个垂直制表符。等价于 \x0b 和 \cK。
101.    
102.    \w 匹配包括下划线的任何单词字符。等价于’[A-Za-z0-9_]’。
103.    
104.    \W 匹配任何非单词字符。等价于 ’[^A-Za-z0-9_]’。
105.    
106.    \xn 匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。
107.    
108.    \num 匹配 num，其中num是一个正整数。对所获取的匹配的引用。
109.    
110.    \n 标识一个八进制转义值或一个后向引用。如果 \n 之前至少 n 个获取的子表达式，则 n 为后向引用。否则，如果 n 为八进制数字 (0-7)，则 n 为一个八进制转义值。
111.    
112.    \nm 标识一个八进制转义值或一个后向引用。如果 \nm 之前至少有is preceded by at least nm 个获取得子表达式，则 nm 为后向引用。如果 \nm 之前至少有 n 个获取，则 n 为一个后跟文字 m 的后向引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字 (0-7)，则 \nm 将匹配八进制转义值 nm。
113.    
114.    \nml 如果 n 为八进制数字 (0-3)，且 m 和 l 均为八进制数字 (0-7)，则匹配八进制转义值 nml。
115.    
116.    \un 匹配 n，其中 n 是一个用四个十六进制数字表示的Unicode字符。
117.    
118.    匹配中文字符的正则表达式： [u4e00-u9fa5]
119.    
120.    匹配双字节字符(包括汉字在内)：[^x00-xff]
121.    
122.    匹配空行的正则表达式：n[s| ]*r
123.    
124.    匹配HTML标记的正则表达式：/<(.*)>.*</1>|<(.*) />/
125.    
126.    匹配首尾空格的正则表达式：(^s*)|(s*$)
127.    
128.    匹配Email地址的正则表达式：w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*
129.    
130.    匹配网址URL的正则表达式：http://([w-]+.)+[w-]+(/[w- ./?%&=]*)?
131.    
132.    利用正则表达式限制网页表单里的文本框输入内容：
133.    
134.    用正则表达式限制只能输入中文：onkeyup="value=value.replace(/[^u4E00-u9FA5]/g,'')" onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^u4E00-u9FA5]/g,''))"
135.    
136.    用正则表达式限制只能输入全角字符： onkeyup="value=value.replace(/[^uFF00-uFFFF]/g,'')" onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^uFF00-uFFFF]/g,''))"
137.    
138.    用正则表达式限制只能输入数字：onkeyup="value=value.replace(/[^d]/g,'') "onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^d]/g,''))"
139.    
140.    用正则表达式限制只能输入数字和英文：onkeyup="value=value.replace(/[W]/g,'') "onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^d]/g,''))"
141.   


 
142.    =========常用正则式
143.    
144.    
145.    
146.    匹配中文字符的正则表达式： [\u4e00-\u9fa5]
147.    
148.    匹配双字节字符(包括汉字在内)：[^\x00-\xff]
149.    
150.    匹配空行的正则表达式：\n[\s| ]*\r
151.    
152.    匹配HTML标记的正则表达式：/<(.*)>.*<\/\1>|<(.*) \/>/
153.    
154.    匹配首尾空格的正则表达式：(^\s*)|(\s*$)
155.    
156.    匹配IP地址的正则表达式：/(\d+)\.(\d+)\.(\d+)\.(\d+)/g //
157.    
158.    匹配Email地址的正则表达式：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*
159.    
160.    匹配网址URL的正则表达式：http://(/[\w-]+\.)+[\w-]+(/[\w- ./?%&=]*)?
161.    
162.    sql语句：^(select|drop|delete|create|update|insert).*$
163.    
164.    1、非负整数：^\d+$
165.    
166.    2、正整数：^[0-9]*[1-9][0-9]*$
167.    
168.    3、非正整数：^((-\d+)|(0+))$
169.    
170.    4、负整数：^-[0-9]*[1-9][0-9]*$
171.    
172.    5、整数：^-?\d+$
173.    
174.    6、非负浮点数：^\d+(\.\d+)?$
175.    
176.    7、正浮点数：^((0-9)+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$
177.    
178.    8、非正浮点数：^((-\d+\.\d+)?)|(0+(\.0+)?))$
179.    
180.    9、负浮点数：^(-((正浮点数正则式)))$
181.    
182.    10、英文字符串：^[A-Za-z]+$
183.    
184.    11、英文大写串：^[A-Z]+$
185.    
186.    12、英文小写串：^[a-z]+$
187.    
188.    13、英文字符数字串：^[A-Za-z0-9]+$
189.    
190.    14、英数字加下划线串：^\w+$
191.    
192.    15、E-mail地址：^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$
193.    
194.    16、URL：^[a-zA-Z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\s*)?$
195.    或：^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$
196.    
197.    17、邮政编码：^[1-9]\d{5}$
198.    
199.    18、中文：^[\u0391-\uFFE5]+$
200.    
201.    19、电话号码：^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$
202.    
203.    20、手机号码：^((\(\d{2,3}\))|(\d{3}\-))?13\d{9}$
204.    
205.    21、双字节字符(包括汉字在内)：^\x00-\xff
206.    
207.    22、匹配首尾空格：(^\s*)|(\s*$)（像vbscript那样的trim函数）
208.    
209.    23、匹配HTML标记：<(.*)>.*<\/\1>|<(.*) \/>
210.    
211.    24、匹配空行：\n[\s| ]*\r
212.    
213.    25、提取信息中的网络链接：(h|H)(r|R)(e|E)(f|F) *= *('|")?(\w|\\|\/|\.)+('|"| *|>)?
214.    
215.    26、提取信息中的邮件地址：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*
216.    
217.    27、提取信息中的图片链接：(s|S)(r|R)(c|C) *= *('|")?(\w|\\|\/|\.)+('|"| *|>)?
218.    
219.    28、提取信息中的IP地址：(\d+)\.(\d+)\.(\d+)\.(\d+)
220.    
221.    29、提取信息中的中国手机号码：(86)*0*13\d{9}
222.    
223.    30、提取信息中的中国固定电话号码：(\(\d{3,4}\)|\d{3,4}-|\s)?\d{8}
224.    
225.    31、提取信息中的中国电话号码（包括移动和固定电话）：(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}
226.    
227.    32、提取信息中的中国邮政编码：[1-9]{1}(\d+){5}
228.    
229.    33、提取信息中的浮点数（即小数）：(-?\d*)\.?\d+
230.    
231.    34、提取信息中的任何数字 ：(-?\d*)(\.\d+)?
232.    
233.    35、IP：(\d+)\.(\d+)\.(\d+)\.(\d+)
234.    
235.    36、电话区号：/^0\d{2,3}$/
236.    
237.    37、腾讯QQ号：^[1-9]*[1-9][0-9]*$
238.    
239.    38、帐号(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$
240.    
241.    39、中文、英文、数字及下划线：^[\u4e00-\u9fa5_a-zA-Z0-9]+$